<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE beans PUBLIC "-//SPRING//DTD BEAN//EN" "http://www.springframework.org/dtd/spring-beans.dtd">
<beans>
    <bean id="goGoDuckProcess" class="au.org.emii.wps.GoGoDuckProcess">
        <constructor-arg index="0" ref="wpsResourceManager"/>
        <constructor-arg index="1" ref="geoServer"/>
        <constructor-arg index="2" ref="resourceLoader"/>

        <property name="urlMangling">
            <map>
                <entry key="^CARS2009_Australia_weekly.nc$" value="/mnt/imos-t3/climatology/CARS/2009/eMII-product/CARS2009_Australia_weekly.nc"/>
                <entry key="^CARS2009_World_monthly.nc$"    value="/mnt/imos-t3/climatology/CARS/2009/eMII-product/CARS2009_World_monthly.nc"/>
                <entry key="^/mnt/imos-t3/"                 value="https://data.aodn.org.au/"/>
                <entry key="^/mnt/opendap/2/SRS/"           value="https://thredds.aodn.org.au/thredds/fileServer/srs/"/>
                <entry key="^IMOS/"                         value="https://imos-data.aodn.org.au/IMOS/"/>
            </map>
        </property>
    </bean>
    <bean id="notifierProcess" class="au.org.emii.wps.NotifierProcess">
        <constructor-arg index="0" ref="wpsResourceManager"/>
        <constructor-arg index="1" ref="retryingHttpNotifier"/>
    </bean>
    <bean id="simpleHttpNotifier" class="au.org.emii.wps.SimpleHttpNotifier">
        <constructor-arg index="0" ref="httpClient"/>
    </bean>
    <bean id="retryingHttpNotifier" class="au.org.emii.wps.RetryingHttpNotifier">
        <constructor-arg index="0" ref="simpleHttpNotifier"/>
        <constructor-arg index="1" value="3" />
        <constructor-arg index="2" value="300000" />
    </bean>
    <bean id="httpClient" class="org.geotools.data.ows.SimpleHttpClient"/>
    <bean id="netcdfOutputProcess" class="au.org.emii.wps.NetcdfOutputProcess">
      <constructor-arg index="0" ref="wpsResourceManager"/>
      <constructor-arg index="1" ref="catalog"/>
      <constructor-arg index="2" ref="servletContext"/>
    </bean>
</beans>
